{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImg(inputValue) {\n    const BASE_URL = 'https://pixabay.com/';\n    const END_POINT = '/api/';\n    const KEY = '?key=42514527-f0e4c02a7a5e34a1148846eb5';\n    const PARAMS = `&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const url = BASE_URL + END_POINT + KEY + PARAMS;\n  \n    return fetch(url).then(res => res.json());\n  }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport axios from \"axios\"; \n\nimport {refs} from \"../main\";\n\n\nexport function checkupInput() {\n    iziToast.warning({\n      message: 'Please, enter something to search!',\n      position: 'topRight',\n    });\n  }\n  \n  export function notFound() {\n    iziToast.warning({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    refs.spanEl.style.display = 'none';\n  }\n\n  export function imgTemplate(data) {\n    return data.hits\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => {\n          return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\"\n        loading=\"lazy\"\n      />\n    </a>\n    <div class=\"gallery-descr\">\n    <p><b>Likes</b> ${likes}</p>\n    <p><b>Views</b> ${views}</p>\n    <p><b>Comments</b> ${comments}</p>\n    <p><b>Downloads</b> ${downloads}</p>\n   </div>\n  </li>`;\n        }\n      )\n      .join('\\n');\n \n  }\n\n  export function renderImg(data) {\n    const markup = imgTemplate(data);\n    refs.listEl.insertAdjacentHTML('afterbegin', markup);\n  \n    \n  }\n export const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionSelector: 'img',\n    captionPosition: 'bottom',\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionType: 'attr',\n  });\n  lightbox.on('show.simplelightbox');\n  lightbox.refresh();","\nimport { searchImg } from './js/pixabay-api';\nimport { checkupInput, notFound } from './js/render-functions';\nimport { renderImg } from './js/render-functions';\nimport { lightbox } from './js/render-functions';\n\nexport const refs = {\n    formEl: document.querySelector('.form'),\n    inputEl: document.querySelector('input[name=\"text\"]'),\n    listEl: document.querySelector('.gallery'),\n    spanEl: document.querySelector('.loader')\n};\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const search = e.target.elements.text.value.trim();\n  \n  if (!search.trim().length) {\n    refs.spanEl.style.display = 'none';\n    return;\n  }\n  \n  refs.spanEl.style.display = 'block';\n\n  if (!search) {\n    checkupInput();\n    return;\n  }\n\n  refs.listEl.innerHTML = '';\n  searchImg(search)\n    .then(data => {\n      if (data.hits.length === 0) {\n        notFound();\n      } else {\n        renderImg(data);\n        lightbox.on('show.simplelightbox');\n        lightbox.refresh();\n      }\n      refs.spanEl.style.display = 'none';\n    })\n    .catch(err => console.log(err));\n\n  e.target.reset();\n}\n"],"names":["searchImg","inputValue","BASE_URL","END_POINT","KEY","PARAMS","url","res","checkupInput","iziToast","notFound","refs","imgTemplate","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderImg","markup","lightbox","SimpleLightbox","onFormSubmit","e","search","err"],"mappings":"6vBAAO,SAASA,EAAUC,EAAY,CAClC,MAAMC,EAAW,uBACXC,EAAY,QACZC,EAAM,0CACNC,EAAS,MAAMJ,CAAU,2DACzBK,EAAMJ,EAAWC,EAAYC,EAAMC,EAEzC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CCCO,SAASC,GAAe,CAC3BC,EAAS,QAAQ,CACf,QAAS,qCACT,SAAU,UAChB,CAAK,CACF,CAEM,SAASC,GAAW,CACzBD,EAAS,QAAQ,CACf,QACE,2EACF,SAAU,UAChB,CAAK,EACDE,EAAK,OAAO,MAAM,QAAU,MAC7B,CAEM,SAASC,EAAYC,EAAM,CAChC,OAAOA,EAAK,KACT,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IACiB;AAAA,oCACmBL,CAAa;AAAA;AAAA;AAAA,eAGlCD,CAAY;AAAA,eACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKGC,CAAK;AAAA,sBACLC,CAAK;AAAA,yBACFC,CAAQ;AAAA,0BACPC,CAAS;AAAA;AAAA,QAI5B,EACA,KAAK;AAAA,CAAI,CAEb,CAEM,SAASC,EAAUR,EAAM,CAC9B,MAAMS,EAASV,EAAYC,CAAI,EAC/BF,EAAK,OAAO,mBAAmB,aAAcW,CAAM,CAGpD,CACK,MAAMC,EAAW,IAAIC,EAAe,aAAc,CACtD,SAAU,GACV,gBAAiB,MACjB,gBAAiB,SACjB,aAAc,MACd,aAAc,IACd,YAAa,MACjB,CAAG,EACDD,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAS,ECpEb,MAAMZ,EAAO,CAChB,OAAQ,SAAS,cAAc,OAAO,EACtC,QAAS,SAAS,cAAc,oBAAoB,EACpD,OAAQ,SAAS,cAAc,UAAU,EACzC,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,OAAO,iBAAiB,SAAUc,CAAY,EAEnD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAASD,EAAE,OAAO,SAAS,KAAK,MAAM,OAE5C,GAAI,CAACC,EAAO,KAAM,EAAC,OAAQ,CACzBhB,EAAK,OAAO,MAAM,QAAU,OAC5B,MACD,CAID,GAFAA,EAAK,OAAO,MAAM,QAAU,QAExB,CAACgB,EAAQ,CACXnB,IACA,MACD,CAEDG,EAAK,OAAO,UAAY,GACxBX,EAAU2B,CAAM,EACb,KAAKd,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBH,KAEAW,EAAUR,CAAI,EACdU,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,GAElBZ,EAAK,OAAO,MAAM,QAAU,MAClC,CAAK,EACA,MAAMiB,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAEhCF,EAAE,OAAO,OACX"}